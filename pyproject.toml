[tool.ruff]
# Enable Pyflakes (`F`) and a subset of the pycodestyle (`E`)  codes by default.
select = ["E", "F", "B", "I", "N", "UP", "PL", "RUF"]
ignore = []
fixable = ["ALL"]
unfixable = []
exclude = [
    ".bzr", ".direnv", ".eggs", ".git", ".git-rewrite", ".hg", ".mypy_cache", ".nox",
    ".pants.d", ".pytype", ".ruff_cache", ".svn", ".tox", ".venv", "__pypackages__",
    "_build", "buck-out", "build", "dist", "node_modules", "venv", "frontend", "frontend_old"
]
line-length = 88
dummy-variable-rgx = "^(_+|(_+[a-zA-Z0-9_]*[a-zA-Z0-9]+?))$"
target-version = "py310"

[tool.ruff.mccabe]
max-complexity = 15

[tool.ruff.lint]
select = ["E", "F", "B", "I", "N", "UP", "PL", "RUF"]
ignore = []

[tool.ruff.lint.per-file-ignores]
"tests/*" = ["PLR2004", "E501"]
"scripts/*" = ["E501", "PLR2004", "PLC0415", "PLR0915"]
"backend/run.py" = ["E402", "PLR0915"]
"backend/research/workflows.py" = ["PLR0915", "PLR0912"]

[tool.mypy]
python_version = "3.10"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = false
ignore_missing_imports = true
check_untyped_defs = true
explicit_package_bases = true
exclude = ["frontend", "frontend_old"]
# Add scripts to mypy path if needed, but explicit_package_bases helps

[[tool.mypy.overrides]]
module = "tests.*"
disallow_untyped_defs = false

[tool.interrogate]
ignore-init-module = true
ignore-init-method = true
ignore-magic = true
ignore-semiprivate = true
ignore-private = true
ignore-module = true
fail-under = 80
exclude = ["setup.py", "docs", "build", "frontend", "frontend_old", "tests", "env"]
ignore-regex = ["^get$", "^mock_.*", ".*BaseClass.*"]
verbose = 1
quiet = false
whitelist-regex = []
color = true
